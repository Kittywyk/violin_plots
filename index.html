<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>我国四大地理区域街道方向熵的统计分析</title>
    <!-- Load plotly.js into the DOM -->
    <script src="https://cdn.plot.ly/plotly-2.4.2.min.js"></script>
    <script src="plotly-2.4.2.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js'></script>
</head>
<body style="background-color:#00192E;">                  <!-- 设置页面背景颜色 -->
<h1 align="center"style="color:white;">我国四大地理区域的街道方向熵统计</h1>
<body>

<!-- 定义图表显示区域 -->
<div id="myDiv" style="width: 800px; height: 480px; position: absolute; left:650px"></div>

<script>
    d3.csv("https://raw.githubusercontent.com/Kittywyk/violin_plots.github.io/main/statistics.csv", function(err, rows){
        function unpack(rows, key) {
            return rows.map(function(row) { return row[key]; });
        }

        var data = [{
            type: 'violin',
            x: unpack(rows, '地理区域'),
            y: unpack(rows, '街道方向熵'),
            points: 'none',
            box: {
                visible: true
            },
            line: {
                color: 'green',
            },
            meanline: {
                visible: true
            },
            transforms: [{
                type: 'groupby',
                groups: unpack(rows, '地理区域'),
                styles: [
                    {target: '西北地区', value: {line: {color: '#bf8040'}}},
                    {target: '北方地区', value: {line: {color: '#ffd11a'}}},
                    {target: '南方地区', value: {line: {color: '#00e600'}}},
                    {target: '青藏地区', value: {line: {color: '#3399ff'}}}
                ]
            }]
        }]

        var layout = {
            title: {
                text:"<b>各地理区域街道方向熵的小提琴图</b>",
                font:{
                    color:"#e8dede",
                    size:18
                }
            },
            paper_bgcolor:"#00192E",
            plot_bgcolor:"#00192E",
            xaxis:{
                color:"#e8dede",
                gridcolor:"#4d4d4d",
                tickfont:{
                    size:13
                }
            },
            yaxis: {
                zeroline: false,
                color:"#e8dede",
                gridcolor:"#4d4d4d"
            },
            legend:{
                font:{
                    color:"#e8dede",
                    size:13
                }
            }
        }

        Plotly.newPlot('myDiv', data, layout);
    });
</script>

</body>
</html>
